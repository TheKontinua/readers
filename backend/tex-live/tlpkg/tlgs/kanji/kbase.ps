%
% kbase.ps  -  define /basekanji operator
%
% Apr.10,1992 Programmed by N.Katayama
%

%
% font_name unique_id font_info private build_char BASEKANJI unique_id
%

/basekanji {

	9 dict begin		% fontname, uniqueid, fontinfo, private,
				% BEGIN, END, buildchar, prototype and rowcode

	/buildchar exch def
	/private exch def
	/fontinfo exch def
	/uniqueid exch def
	/fontname exch def

	/BEGIN {
		prototype dup maxlength dict copy begin
		/UniqueID uniqueid def
	} def
	/END { 
		currentdict end
		dup /FontName get exch definefont pop
		/uniqueid uniqueid 1 add def
	} def

	%
	% Define prototype
	%

	12 dict begin
%	/FontName
	/FontInfo fontinfo readonly def
	/PaintType 0 def
	/FontType 3 def
	/FontMatrix [ 0.001 0 0 0.001 0 0 ] readonly def
	/FontBBox { 0 -120 1000 880 } readonly def
%	/Encoding
%	/UniqueID
%	/WMode
%	/Private
	/BuildChar /buildchar load def
	currentdict end
	/prototype exch def

	%
	% JIS 
	%

	16#21 1 16#7E {
		/rowcode exch def
		BEGIN
		/FontName fontname (.r) rowcode () basefontname def
		/Encoding JISSubEncoding def
		/WMode 0 def
		/Private private dup maxlength 3 add dict copy begin
		/MappingOffset rowcode 256 mul def
		/MappingDict JISMappingDict def
		/MappingProc /StandardMapping load def
		currentdict end readonly def
		END
	} for
		
	[ 16#21 16#22 16#24 16#25 ] {
		/rowcode exch def
		BEGIN
		/FontName fontname (.r) rowcode (v) basefontname def
		/Encoding JISSubEncoding def
		/WMode 1 def
		/Private private dup maxlength 3 add dict copy begin
		/MappingOffset rowcode 256 mul def
		/MappingDict JISMappingDict def
		/MappingProc /StandardMapping load def
		currentdict end readonly def
		END
	} forall

	%
	% Shift-JIS kanji base font
	%

       	16#81 1 16#9F {
		/rowcode exch def
		BEGIN
		/FontName fontname (.sr) rowcode () basefontname def
		/Encoding SJSubEncoding def
		/WMode 0 def
		/Private private dup maxlength 3 add dict copy begin
		/MappingOffset rowcode 16#81 sub 16#200 mul 16#2100 add def
		/MappingDict SJMappingDict def
		/MappingProc /StandardMapping load def
		currentdict end readonly def
		END
	} for

       	16#E0 1 16#EA {
		/rowcode exch def
		BEGIN
		/FontName fontname (.sr) rowcode () basefontname def
		/Encoding SJSubEncoding def
		/WMode 0 def
		/Private private dup maxlength 3 add dict copy begin
		/MappingOffset rowcode 16#E0 sub 16#200 mul 16#5F00 add def
		/MappingDict SJMappingDict def
		/MappingProc /StandardMapping load def
		currentdict end readonly def
		END
	} for

	16#81 1 16#83 {
		/rowcode exch def
		BEGIN
		/FontName fontname (.sr) rowcode (v) basefontname def
		/Encoding SJSubEncoding def
		/WMode 1 def
		/Private private dup maxlength 3 add dict copy begin
		/MappingOffset rowcode 16#81 sub 16#200 mul 16#2100 add def
		/MappingDict SJMappingDict def
		/MappingProc /StandardMapping load def
		currentdict end readonly def
		END
	} for

	%
	% 90pv-RKSJ kanji base font
	%

	[ 16#85 16#86 16#87 16#88 ] {
		/rowcode exch def
		BEGIN
		/FontName fontname (.90pv-sr) rowcode () basefontname def
		/Encoding SJSubEncoding def
		/WMode 0 def
		/Private private dup maxlength 3 add dict copy begin
		/MappingOffset rowcode 16#81 sub 16#200 mul 16#2100 add def
		/MappingDict SJMappingDict def
		/MappingProc /StandardMapping load def
		currentdict end readonly def
		END
	} forall

	[ 16#EB 16#EC 16#ED ] {
		/rowcode exch def
		BEGIN
		/FontName fontname (.90pv-sr) rowcode () basefontname def
		/Encoding SJSubEncoding def
		/WMode 0 def
		/Private private dup maxlength 3 add dict copy begin
		/MappingOffset rowcode 16#E0 sub 16#200 mul 16#5F00 add def
		/MappingDict SJMappingDict def
		/MappingProc /StandardMapping load def
		currentdict end readonly def
		END
	} forall

	[ 16#87 ] {
		/rowcode exch def
		BEGIN
		/FontName fontname (.90pv-sr) rowcode (v) basefontname def
		/Encoding SJSubEncoding def
		/WMode 1 def
		/Private private dup maxlength 3 add dict copy begin
		/MappingOffset rowcode 16#81 sub 16#200 mul 16#2100 add def
		/MappingDict SJMappingDict def
		/MappingProc /StandardMapping load def
		currentdict end readonly def
		END
	} forall

	%
	% 90ms-RKSJ kanji base font
	%

	[ 16#87 ] {
		/rowcode exch def
		BEGIN
		/FontName fontname (.90ms-sr) rowcode () basefontname def
		/Encoding SJSubEncoding def
		/WMode 0 def
		/Private private dup maxlength 3 add dict copy begin
		/MappingOffset rowcode 16#81 sub 16#200 mul 16#2100 add def
		/MappingDict SJMappingDict def
		/MappingProc /StandardMapping load def
		currentdict end readonly def
		END
	} forall

	[ 16#ED 16#EE 16#FA 16#FB 16#FC ] {
		/rowcode exch def
		BEGIN
		/FontName fontname (.90ms-sr) rowcode () basefontname def
		/Encoding SJSubEncoding def
		/WMode 0 def
		/Private private dup maxlength 3 add dict copy begin
		/MappingOffset rowcode 16#E0 sub 16#200 mul 16#5F00 add def
		/MappingDict SJMappingDict def
		/MappingProc /StandardMapping load def
		currentdict end readonly def
		END
	} forall

	[ 16#87 ] {
		/rowcode exch def
		BEGIN
		/FontName fontname (.90ms-sr) rowcode (v) basefontname def
		/Encoding SJSubEncoding def
		/WMode 1 def
		/Private private dup maxlength 3 add dict copy begin
		/MappingOffset rowcode 16#81 sub 16#200 mul 16#2100 add def
		/MappingDict SJMappingDict def
		/MappingProc /StandardMapping load def
		currentdict end readonly def
		END
	} forall

	%
	% Roman
	%

	BEGIN
	/FontName fontname (.Roman) composename def
	/FontMatrix [ 0.0005 0 0 0.001 0 0 ] readonly def
	/Encoding RomanEncoding def
	/WMode 0 def
	/Private private dup maxlength 3 add dict copy begin
	/MappingOffset 0 def
	/MappingDict CNameMappingDict def
	/MappingProc /StandardMapping load def
	currentdict end readonly def
	END

	%
	% Hiragana 
	%

	BEGIN
	/FontName fontname (.Hiragana) composename def
	/FontMatrix [ 0.0005 0 0 0.001 0 0 ] readonly def
	/Encoding HiraganaEncoding def
	/WMode 0 def
	/Private private dup maxlength 3 add dict copy begin
	/MappingOffset 0 def
	/MappingDict CNameMappingDict def
	/MappingProc /StandardMapping load def
	currentdict end readonly def
	END

	%
	% Katakana
	%

	BEGIN
	/FontName fontname (.Katakana) composename def
	/FontMatrix [ 0.0005 0 0 0.001 0 0 ] readonly def
	/Encoding KatakanaEncoding def
	/WMode 0 def
	/Private private dup maxlength 3 add dict copy begin
	/MappingOffset 0 def
	/MappingDict CNameMappingDict def
	/MappingProc /StandardMapping load def
	currentdict end readonly def
	END

	%
	% Hankaku
	%

	BEGIN
	/FontName fontname (.Hankaku) composename def
	/FontMatrix [ 0.0005 0 0 0.001 0 0 ] readonly def
	/Encoding HankakuEncoding def
	/WMode 0 def
	/Private private dup maxlength 3 add dict copy begin
	/MappingOffset 0 def
	/MappingDict CNameMappingDict def
	/MappingProc /StandardMapping load def
	currentdict end readonly def
	END

	%
	% SuppK
	%

	BEGIN
	/FontName fontname (.SuppK) composename def
	/FontMatrix [ 0.0005 0 0 0.001 0 0 ] readonly def
	/Encoding RKSuppKEncoding def
	/WMode 0 def
	/Private private dup maxlength 3 add dict copy begin
	/MappingOffset 0 def
	/MappingDict CNameMappingDict def
	/MappingProc /StandardMapping load def
	currentdict end readonly def
	END

	uniqueid end
} bind def
